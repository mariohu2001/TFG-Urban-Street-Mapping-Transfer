\apendice{Plan de Proyecto Software}

\section{Introducción}

\section{Planificación temporal}

\section{Estudio de viabilidad}

En todo proyecto de \textit{software} de hacerse un estudio de viabilidad. Para ello ha de tenerse en cuenta el coste que conlleva el desarrollo del producto, así como las posibles restricciones legales que el uso de determinadas herramientas pueden imponer sobre la aplicación.
\subsection{Viabilidad económica}
La viabilidad económica es un análisis sobre los costes financieros que conlleva el desarrollo del producto. Dentro de este se debe tener en consideración los gastos derivados de equipamiento e infraestructura, además del coste asociado al personal de desarrollo. Dado esto, este estudio de viabilidad económica debe de realizarse como si se tratase de una empresa real.

\subsubsection{Costes derivados de recursos}
En esta sección se analizarán los costes derivados de los recursos \textit{software} y \textit{hardware} utilizados durante el desarrollo. También incluiremos aquellos relacionados con el despliegue de la aplicación.

Cabe destacar que algunos de los recursos utilizados son la licencia gratuita ofrecida por las empresas, se listarán también para tenerlos en consideración en caso de que en desarrollos futuros se requiera de obtener algunos planes de pago.

La duración del proyecto ha sido del 2 de febrero hasta el 21 de septiembre, alrededor de 8 meses con 32 semanas. 

\begin{itemize}
	\item \textbf{\textit{Hardware}}:\\ Para el desarrollo de la aplicación se ha hecho uso de 2 ordenadores. El primero de ellos es un ordenador portátil modelo ASUS TUF Gaming F15 FX506HE\_FX506HE que cuenta con un procesador 11th Gen Intel(R) Core(TM) i5-11400H 2.70GHz, 16GB de RAM y una GPU NVIDIA GeForce RTX 3050 Ti con 4GB. Este equipo actualmente tiene un precio de 1199,00 € y se espera amortizarlo en 4 años.
	
	Su coste anual de amortización será:
	\[
	\text{Coste anual de amortización} = \frac{\text{1999,00 €}}{\text{4 años}} \approx \text{299,75 €/año}
	\]
	
	 El segundo equipo se utilizó para realizar aquellas operaciones con una duración bastante larga; se trata de un ordenador de sobremesa que cuenta con un procesador i3-8100 8th Gen Intel(R) Core(TM), 16GB de memoria RAM y una GPU NVIDIA GeForce GTX 1050Ti de 4GB. En su momento se obtuvo este ordenador con un precio de alrededor a 800€, esperando amortizarlo en 6 años.
	
	Para calcular el coste de amortización de este equipo hay que tener en consideración que se compró hace 5 años y se espera amortizar en 6 años:
	

\[
\text{Amortización acumulada} = \frac{\text{Años desde la compra}}{\text{Años de amortización total}} = \frac{5 \text{ años}}{6 \text{ años}}
\]
\[
\text{Valor no amortizado} = \text{Costo original} - \text{Amortización acumulada}
\]
\[
\text{Valor no amortizado} = 800 \text{ €} - \left(\frac{5}{6} \times 800 \text{ €}\right) = 800 \text{ €} - 666.67 \text{ €} = 133.33 \text{ €}
\]
\[
\text{Costo anual de amortización} = \frac{\text{Valor no amortizado}}{\text{Años por amortizar}} = \frac{133.33 \text{ €}}{1 \text{ año}} \approx 133.33 \text{ €}
\]

El costo anual de amortización, teniendo en cuenta lo que ya ha sido amortizado, es de 133.33 €.

\item \textbf{\textit{Software}}:
En cuanto a \textit{software} se utilizó una licencia del sistema operativo Windows 10 Pro. Este tiene un valor aproximado de 200 € mediante medios oficiales. Dado que la fecha de fin de soporte es cercano a 2026 se espera amortizar en 3 años.

\[
\textit{Coste anual de amortización} = \frac{\text{200 €}}{\text{3 años}} \approx \text{66.6 €/año}
\]

Sobre Neo4j, la base de datos, se ha utilizado la licencia \textit{Community}, que es gratuita. 


\item \textbf{Otros}:
Para el despliegue de la aplicación se ha hecho uso de dos plataformas, Heroku para alojar la aplicación web, y Neo4j AuraDB para alojar la base de datos en la nube. Para estos ha bastado con los planes gratuitos, pero cabe esperar que en futuros desarrollos se sobrepase lo ofertado por estos planes. Especial mención para Neo4j AuraDB, que tiene un límite sobre el número de nodos y enlaces en su plan gratuito que actualmente está cerca de sobrepasar.


	
	
\end{itemize}

Todo esto nos deja con el siguiente coste anual derivado de recursos:
%\tablaApaisadaSmall{Costes de recursos}{lc}{costesrec}{Recurso & Coste}{
%hola & adios }

\begin{table}[h!]
	\centering
	\begin{tabular}{| l | c |}
		\toprule
		\textbf{Recurso} & \textbf{Coste Anual} \\ \midrule
		Windows 10 Pro & 66,6 €\\
		Portatil & 299,75 € \\
		Ordenador de Sobremesa & 133,33 €\\
		AuraDB & 0,00 €\\
		Heroku & 0,00 €\\
		\midrule
		\textbf{Total:} & 499,68 € \\
		\bottomrule
	\end{tabular}
	\caption{Coste anual por recursos.}
	\label{CostResources}
\end{table}

\subsubsection{Costes de personal}
Para estimar los costes de personal se considerará como una empresa de un único empleado, el alumno. Tendrá gran importancia la duración del desarrollo del proyecto, siendo de alrededor de 8 meses.

Se considerará al desarrollador bajo la categoría de <<programador Junior>>, estos ganan en promedio en España alrededor 21.925 € brutos con una jornada completa. Para formalizar sus condiciones de trabajo se considerará que es un contrato a jornada parcial de 20 horas semanales con 14 pagas anuales.

Deberemos recalcular el salario bruto para ajustarse a la jornada parcial:

\[
\text{Salario Bruto Anual Jornada Parcial} = \text{21.925 €}  \frac{\text{20 horas}}{\text{40 horas}} = \text{10.962,50 €}
\]

Y con ello obtener el salario bruto mensual:

\[
\text{Salario Bruto Mensual} = \frac{\text{10.962,50 €}}{\text{14 pagas}} = \text{783,03 €}
\]

Una vez obtenido el salario bruto mensual queda deducir impuestos aplicables en territorio español. Entre estos se encuentran las distintas contribuciones a la seguridad social.


\begin{table}[h!]
	\centering
	\begin{tabular}{| l | c |}
		\toprule
		\textbf{Concepto} & \textbf{Porcentaje} \\ \midrule
		Contingencias Comunes & 4,70 \%\\
		Desempleo & 1,60 \% \\
		Formación Profesional & 0,10 \% \\
		\midrule
		\textbf{Total:} & 6,4 \% \\
		\bottomrule
	\end{tabular}
	\caption{Conceptos de Seguridad Social empleado}
	\label{SSemp}
\end{table}

Calculadas las contribuciones del empleado, esto se saldaría con el siguiente salario neto:

\[
\text{Salario mensual neto} = \text{Salario mensual bruto} - \text{\% de contribución}
\]
\[
\text{Salario mensual neto} = \text{783,03 €} - \text{6,4 \%} = \text{732,92 €}
\]

En cuanto a la contribución por parte de la empresa, esta sería la siguiente:

\begin{table}[h!]
	\centering
	\begin{tabular}{| l | c |}
		\toprule
		\textbf{Concepto} & \textbf{Porcentaje} \\ \midrule
		Contingencias Comunes & 23,60 \%\\
		Accidentes de trabajo & 1,5 \%\\
		Desempleo & 6,70 \% \\
		FOGASA & 0,20 \%\\
		Formación Profesional & 0,60 \% \\
		\midrule
		\textbf{Total:} & 32,60 \% \\
		\bottomrule
	\end{tabular}
	\caption{Conceptos de Seguridad Social empresa}
	\label{SSempresa}
\end{table}

Las contribuciones a la seguridad social por parte de la empresa son:

\[
\text{Contribución empresa} = \text{Salario Bruto empleado} - \text{\% de contribución}
\]
\[
\text{Contribución empresa} = \text{783,03 €} - \text{32,60 \%} \approx \text{527,76 €}
\]

Por tanto, el gasto mensual de personal de la empresa son:

\[
\text{Gasto mensual en personal} = \text{Salario Bruto empleado} + \text{Contribuciones}
\]
\[
\text{Gasto mensual en personal} = \text{783,03 €} + \text{527,76 €} \approx \text{1.310,79 €}
\]

\subsubsection{Costes totales}
Al considerar todos los gastos anteriores cerramos con los siguientes gastos durante el periodo de 8 meses de desarrollo:

\begin{table}[h!]
	\centering
	\begin{tabular}{| l | c |}
		\toprule
		\textbf{Concepto} & \textbf{Coste} \\ \midrule
		Personal & 10.486,32 €\\
		\textit{Hardware} & 288,72  € \\
		\textit{Software} & 44,40 €\\
		Otros & 0,00 €\\
		
		\midrule
		\textbf{Coste Total del Proyecto:} & 10.819,44  € \\
		\bottomrule
	\end{tabular}
	\caption{Coste del proyecto}
	\label{Costproject}
\end{table}

\subsection{Viabilidad legal}

Dado que para el desarrollo del proyecto se ha utilizado librerías ajenas, así como datos provenientes de OpenStreetMap, será necesario analizar sus términos de uso y distribución antes de poder asignar una licencia a la aplicación, de esta forma cumpliendo todos los requisitos legales relacionados.

Las librerías empleadas junto con versión y licencia son las siguientes:


\begin{table}[h!]
\centering
\begin{tabular}{|l|c|c|}
	\hline
\textbf{Librería} &\textbf{Versión} & \textbf{Licencia}\\ \hline
bcrypt & 4.0.1 & Apache-2.0\\
\hline
beautifulsoup4 & 4.12.2 & MIT \\
\hline
blinker & 1.6.2 & MIT\\
\hline
click & 8.1.7 & BSD-3-Clause License\\
\hline
colorama & 0.4.6 & BSD-3-Clause License\\
\hline
contourpy & 1.1.0 & BSD-3-Clause License\\
\hline
cycler & 0.11.0 & BSD-3-Clause License\\
\hline
Flask & 2.3.3 & BSD-3-Clause License \\
\hline
Flask-JWT-Extended & 4.5.2 & MIT\\
\hline
Flask-WTF & 1.1.1 & BSD-3-Clause License \\
\hline
fonttools & 4.42.1 & MIT\\
\hline
geojson & 3.0.1 & BSD-3-Clause License \\
\hline
itsdangerous & 2.1.2 & BSD-3-Clause License \\
\hline
Jinja2 & 3.1.2 & BSD-3-Clause License\\
\hline
joblib & 1.3.2 & BSD-3-Clause License\\
\hline
kiwisolver & 1.4.5 & BSD-3-Clause License\\
\hline
lxml & 4.9.3 & BSD License \\
\hline
MarkupSafe & 2.1.3 & BSD-3-Clause License \\
\hline
matplotlib & 3.7.2 & PSF\\
\hline
neo4j & 5.12.0 & Apache-2.0\\
\hline
numpy & 1.25.2 & BSD-3-Clause License\\
\hline
OSMPythonTools & 0.3.5 &  GPL-3\\
\hline
packaging & 23.1 &  Apache-2.0\\
\hline
pandas & 2.1.0 & BSD-3-Clause License\\
\hline
Pillow & 10.0.0 & HPND License\\
\hline
PyJWT & 2.8.0 & MIT \\
\hline
pyparsing & 3.0.9 & MIT\\
\hline
python-dateutil & 2.8.2 & BSD License\\
\hline
python-dotenv & 1.0.0 &  BSD-3-Clause License\\
\hline
pytz & 2023.3 & MIT \\
\hline
scikit-learn & 1.3.0 & BSD-3-Clause License\\
\hline
scipy & 1.11.2 & BSD-3-Clause License\\
\hline
six & 1.16.0 & MIT \\
\hline
soupsieve & 2.5 & MIT\\
\hline
threadpoolctl & 3.2.0 & BSD-3-Clause License\\
\hline
tzdata & 2023.3 &  Apache-2.0\\
\hline
ujson & 5.8.0 & BSD License\\
\hline
Werkzeug & 2.3.7  &BSD-3-Clause License \\
\hline
WTForms & 3.0.1 & BSD-3-Clause License\\
\hline
xarray & 2023.8.0 & Apache-2.0 \\
\hline
gunicorn & 21.2.0 & MIT \\
\hline
Bootstrap & 5.2.3 & MIT \\
\hline
Vis.js & 9.1.6 & MIT \\
\hline
Leaflet.js & 1.9.4 & BSD-2-Clause License \\
\hline
Leaflet.ExtraMarkers & 1.0.5 & MIT \\
\hline
\end{tabular}
\caption{Librerías utilizadas con su versión y licencia}
\label{tab:librerias-licencias}
\end{table}

Las licencias mostradas en la tabla anterior cuentan con las siguientes características:

\begin{itemize}
	\item \textbf{Licencia MIT}: Esta licencia fue definida por el instituto de tecnología de Massachusetts, permitiendo el uso libre de las obras independientemente de su fin. No proporciona garantías de uso, librando de responsabilidades a los autores. Se trata de una de las licencias menos restrictivas.
	\item \textbf{Apache License 2.0}: Es una licencia de código abierto que permite el uso gratuito así como la modificación y distribución. Obliga a que se mantenga el aviso de \textit{copyright} y de licencia tanto en los archivos originales como aquellos que se modifiquen, así como cuando se se distribuya el \textit{software}. Tampoco ofrece garantías, librando a los autores toda responsabilidad. Requiere otorgar una licencias a los usuarios.
	
	\item \textbf{BSD-3-Clause License}: También se trata de una licencia de código abierto. Permite realizar modificaciones sobre el código, pero indicando si se han realizado cambios en el trabajo original. Al igual que Apache, permite la distribución y exime de responsabilidades con respecto a garantías a los autores. No requiere de otorgar una licencia a los usuarios del software y no otorga derechos sobre nombre o marcas asociados con el producto. Destaca por su compatibilidad con otras licencias.
	
	\item \textbf{Licencias GPL}: Las licencias Públicas Generales de GNU son una familia de licencias. Las más comunes son las versiones GPL-2 y GPL-3. Destacan por ser bastante restrictivas en comparación al resto. Tiene lo que se conoce como un \textit{copyleft} fuerte, es decir, obliga que cualquier obra derivada o vinculada con \textit{software} con esta licencia se distribuya también bajo GPL. Obliga que a mantener los avisos de \textit{copyright} y la licencia bajo cualquier distribución del programa. Tienen como objetivo garantizar que los trabajos derivados se mantengan como código abierto.
	
\end{itemize}

Dadas la licencias de las distintas librerías empleadas en el proyecto parece que la más apropiada resulta ser GPL-3. Esta garantiza que el \textit{software} desarrollado permanezca siendo libre, imposibilitando añadir restricciones que puedan limitar las libertades que aporta esta licencia.

\subsubsection{Uso de datos de OpenStreetMap}

En este proyecto más allá de librerías también se emplea datos extraidos del proyecto OpenStreetMap que también cuenta con una licencia propia. Su uso se encuentra bajo los términos definidos por ODbL (Licencia de bases de datos abiertas de Open Data Common) por la fundación OpenStreetMap.

Esta licencia hace que tengamos que atribuir los datos utilizados a OpenStreetMap y sus contribuidores. Además descarga de responsabilidad del posible uso que se pueda hacer de ellos, desentendiendose de posibles errores de precisión o integridad de los datos.

