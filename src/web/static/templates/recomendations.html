{% from "macros/basics.html" import dropdown_list %}
{% extends "map.html" %} {% block title %}Recomendations{% endblock %}

{% block head %}

<script>
    const nodes = {{ nodos| tojson }}
    const coordsNodes = {{ nodosCoords| tojson }}
    var defaultCoords = {{ coords }}
    var city = "{{city}}"

</script>
<link rel="stylesheet" href="/styles/leaflet.extra-markers.min.css">
{% endblock %}

{% block mapInfo %}
{{ dropdown_list("category", categories, "categoría") }}
{{ dropdown_list("metric", metrics, "métrica") }}
<div class="d-flex flex-column justify-content-center p-1">
    <button type="button" id="metrics_button" class="btn btn-dark col m-1"><i class="bi bi-bar-chart-fill"></i> Métricas</button>
    <button type="button" id="transfer_button" class="btn btn-dark col m-1"><i class="bi bi-building-fill-up"></i> Transferencia</button>
</div>
<table class="table table-dark table-hover table-responsive my-5" id="metrics-table">
    <thead>
        <th>#</th>
        <th>Categoría</th>
        <th>Q</th>
        <th>Q raw</th>
    </thead>
    <tbody id="metrics-table-body" class="table-group-divider">
    </tbody>
</table>
{% endblock %}
{% block scripts%}
<script src="/js/leaflet.extra-markers.min.js" defer></script>
<script type="text/javascript" src="/js/recommendation/local/getQualityIndices.js" defer></script>
<script type="text/javascript" src="/js/recommendation/loadMapWithLocations.js" defer></script>
<script type="text/javascript" src="/js/metricsTable.js" defer></script>
<script type="text/javascript" src="/js/recommendation/local/categoryRecommendation.js" defer></script>

{% endblock %}